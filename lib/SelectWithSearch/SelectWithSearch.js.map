{"version":3,"sources":["../../components/SelectWithSearch/SelectWithSearch.jsx"],"names":["React","Component","_","Dropdown","Input","Checkbox","Button","Icon","Search","Item","props","checked","onChange","data","optionLabelKey","PureComponent","SelectWithSearch","onSearch","debounce","setState","currentShowIndex","option","filter","x","match","state","searchKey","onSearchKeyChange","value","onChecked","item","key","optionKey","checkedList","index","findIndex","push","splice","onCheckedAll","currentCheckAll","length","isEqual","map","onOk","setCheckStr","visible","checkStr","checkAllPlaceholder","placeholder","names","find","join","onOptionScroll","e","target","scrollTop","scrollTopMax","id","Math","random","nextProps","overlay","width","margin","searchText","noSearchTip","bind","className","style","document","getElementById","defaultProps","selIdList","searchPlaceholder"],"mappings":"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","file":"SelectWithSearch.js","sourcesContent":["/**\r\n * 选择框，下拉包含搜索及确定\r\n * \r\n */\r\nimport React, { Component } from 'react';\r\nimport _ from 'lodash';\r\nimport { Dropdown, Input, Checkbox, Button, Icon } from 'antd';\r\nimport './style.scss';\r\n\r\nconst Search = Input.Search;\r\n\r\nclass Item extends React.PureComponent {\r\n  render() {\r\n    return (\r\n      <div className=\"nasa-select-menu-item\">\r\n      <Checkbox checked={this.props.checked} onChange={() => this.props.onChange(this.props.data)}>\r\n        <span title={this.props.data[this.props.optionLabelKey]}>\r\n          {this.props.data[this.props.optionLabelKey]}\r\n        </span>\r\n      </Checkbox>\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default class SelectWithSearch extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      option: this.props.option,\r\n      checkedList: [],\r\n      visible: false,\r\n      searchKey: '',\r\n      checkStr: '',\r\n      currentShowIndex: 0, // 默认显示数量\r\n    };\r\n    this.id = `select-with-search-${Math.random()}`;\r\n  }\r\n\r\n  static defaultProps = {\r\n    value: [],\r\n    className: '',\r\n    style: null,\r\n    option: [],\r\n    optionKey: 'value',\r\n    optionLabelKey: 'value',\r\n    onChange: (selIdList) => {},\r\n    placeholder: '全部',\r\n    checkAllPlaceholder: null, // 全选时显示文本 该值为空时使用placeholder\r\n    searchPlaceholder: '请输入',\r\n    searchText: '搜索',\r\n    noSearchTip: '暂无相关信息',\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (!_.isEqual(this.props.option, nextProps.option)) {\r\n      this.setState({ option: nextProps.option, searchKey: '' });\r\n    }\r\n    if (!_.isEqual(this.props.value, nextProps.value)) {\r\n      this.setState({ value: nextProps.value, checkedList: nextProps.value, searchKey: '' }, () => {\r\n        this.setCheckStr();\r\n      });\r\n    }\r\n  }\r\n\r\n  onSearch = _.debounce(() => {\r\n    this.setState({ currentShowIndex: 0 });\r\n    let option = this.props.option.filter(x => x[this.props.optionLabelKey].match(this.state.searchKey));\r\n    this.setState({ option });\r\n  }, 500)\r\n\r\n  onSearchKeyChange = (value) => {\r\n    this.setState({ searchKey: value }, () => {\r\n      this.onSearch();\r\n    });\r\n  };\r\n\r\n  onChecked = (item) => {\r\n    let key = item[this.props.optionKey];\r\n    let { checkedList } = this.state;\r\n    let index = checkedList.findIndex(x => x === key);\r\n\r\n    if (index < 0) {\r\n      checkedList.push(key);\r\n    } else {\r\n      checkedList.splice(index, 1);\r\n    }\r\n    this.setState({ checkedList });\r\n  }\r\n\r\n  onCheckedAll = () => {\r\n    let { checkedList } = this.state;\r\n    let currentCheckAll = this.state.checkedList.length > 0 && _.isEqual(this.state.checkedList, this.state.option.map(x => x[this.props.optionKey]));\r\n    if (currentCheckAll) {\r\n      checkedList = [];\r\n    } else {\r\n      checkedList = this.state.option.map(x => x[this.props.optionKey]);\r\n    }\r\n    this.setState({ checkedList });\r\n  }\r\n\r\n  onOk = () => {\r\n    this.setCheckStr();\r\n    this.props.onChange && this.props.onChange(this.state.checkedList);\r\n    this.setState({ visible: false, currentShowIndex: 0 });\r\n    this.onSearchKeyChange('')\r\n  }\r\n\r\n  setCheckStr = () => {\r\n    let checkStr = '';\r\n    let { checkedList } = this.state;\r\n\r\n    // 全选状态\r\n    if (checkedList.length === this.props.option.length) {\r\n      checkedList = [];\r\n      checkStr = this.props.checkAllPlaceholder || this.props.placeholder;\r\n    }\r\n    // 非全选\r\n    else {\r\n      if (this.props.optionKey) {\r\n        let names = [];\r\n        for (let key of checkedList) {\r\n          let item = this.props.option.find(x => x[this.props.optionKey] === key);\r\n          names.push(item[this.props.optionLabelKey]);\r\n        }\r\n        checkStr = names.splice(0, 10).join(';');\r\n      } else if (this.props.optionLabelKey) {\r\n        let names = checkedList.map(x => x[this.props.optionLabelKey]);\r\n        checkStr = names.splice(0, 10).join(';');\r\n      } else {\r\n        checkStr = checkedList.splice(0, 10).join(';');\r\n      }\r\n    }\r\n    this.setState({ checkStr });\r\n  }\r\n\r\n  onOptionScroll = (e) => {\r\n    if (e.target.scrollTop + 100 > e.target.scrollTopMax) {\r\n      this.setState({ currentShowIndex: this.state.currentShowIndex + 1 })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // let currentCheckAll = this.state.checkedList.length > 0 && this.state.checkedList.length === this.state.option.length;\r\n    let currentCheckAll = this.state.checkedList.length > 0 && _.isEqual(this.state.checkedList, this.state.option.map(x => x[this.props.optionKey]));\r\n\r\n    const overlay = (\r\n      <div className=\"nasa-select-menu\">\r\n        <div className=\"nasa-select-menu-search\">\r\n          <Input\r\n            placeholder={this.props.placeholder}\r\n            value={this.state.searchKey}\r\n            onChange={e => this.onSearchKeyChange(e.target.value)}\r\n            style={{ width: 240, margin: 10}}\r\n            addonAfter={this.props.searchText}\r\n          />\r\n          {this.state.searchKey !== '' && \r\n            <Icon type=\"close-circle\" className=\"nasa-select-menu-search-clear\" onClick={() => this.onSearchKeyChange('')}/>\r\n          }\r\n        </div>\r\n\r\n        <div className=\"nasa-select-menu-item check-all\">\r\n          <Checkbox checked={currentCheckAll} onChange={this.onCheckedAll}>\r\n            全选（{this.state.checkedList.length}/{this.state.option.length}项）\r\n          </Checkbox>\r\n        </div>\r\n        <div className=\"nasa-select-menu-options\" onScroll={this.onOptionScroll}>\r\n          {this.props.option.length === 0 && \r\n            <div className=\"nasa-select-menu-item\">暂无数据</div>\r\n          }\r\n          {this.state.option.length === 0 && this.props.option.length !== 0 &&\r\n            <div className=\"nasa-select-menu-item\">{this.props.noSearchTip}</div>\r\n          }\r\n          {this.state.option.map((x, index) => \r\n            index <= ((this.state.currentShowIndex + 1) * 100) &&\r\n            <Item \r\n              key={x[this.props.optionKey]}\r\n              checked={this.state.checkedList.findIndex(checked => x[this.props.optionKey] === checked) >= 0} \r\n              onChange={this.onChecked.bind(this)} \r\n              data={x}\r\n              optionLabelKey={this.props.optionLabelKey}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"nasa-select-buttom\">\r\n          <Button type=\"primary\" onClick={this.onOk}>确定</Button>&nbsp;\r\n          <Button onClick={() => this.setState({visible: false})}>取消</Button>\r\n        </div>\r\n      </div>\r\n    );\r\n    return (\r\n      <div className={`nasa-select-with-search ${this.props.className}`} style={this.props.style}>\r\n        <div id={this.id}></div>\r\n        <Dropdown \r\n          overlay={overlay} \r\n          trigger={['click']}\r\n          visible={this.state.visible}\r\n          getPopupContainer={() => document.getElementById(this.id)}\r\n          onVisibleChange={visible => this.setState({visible})}\r\n        >\r\n          <div className=\"nasa-select-selected\">\r\n            <span>{this.state.checkStr === '' ? this.props.placeholder : this.state.checkStr}</span>\r\n            <Icon type=\"down\" className={this.state.visible ? 'rotate': null} />\r\n          </div>\r\n        </Dropdown>\r\n      </div>\r\n    )\r\n  }\r\n}"]}